(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{168:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("p",[t._v("There are two ways to use vuex-easy-firestore, in 'collection' or 'doc' mode. You can only choose one because this points to the path you sync your vuex module to:")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),a("p",[t._v("Depending on which mode there are some small changes, but the syntax is mostly the same.")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),a("p",[t._v("Opening "),a("router-link",{attrs:{to:"./setup.html#open-db-channel"}},[t._v("the DB channel")]),t._v(" will retrieve all docs in your collection and add them to the vuex-module.")],1),t._v(" "),t._m(9),t._v(" "),t._m(10),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),a("p",[t._v("When working with collections, each document insert or update will automatically receive these fields:")]),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),a("p",[t._v("Every insert will automatically generate an ID and return a promise resolving in the ID of the doc added to the store and Firestore.")]),t._v(" "),a("p",[t._v("This is how you can use the auto-generated ID:")]),t._v(" "),t._m(21),t._m(22),t._v(" "),t._m(23),t._m(24),t._v(" "),a("p",[t._v("Please note you can also access the ID (even if you don't manually pass it) in the "),a("router-link",{attrs:{to:"./extra-features.html#hooks-before-insert-patch-delete"}},[t._v("hooks")]),t._v(".")],1),t._v(" "),t._m(25),t._v(" "),a("p",[t._v("In 'doc' mode all changes will take effect on the single document you have passed in the firestorePath.")]),t._v(" "),a("p",[t._v("You will be able to use these actions:")]),t._v(" "),t._m(26),a("p",[t._v("And yes, just like in 'collection' mode, you can pass a prop-name with sub-props like so:")]),t._v(" "),t._m(27),t._m(28),t._v(" "),a("p",[t._v("When working with a single doc, your document updates will automatically receive these fields:")]),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),a("p",[t._v("For this shortcut usage, import the npm module 'vuex-easy-access' and just add "),a("code",[t._v("{vuexEasyFirestore: true}")]),t._v(" in its options. Please also check the relevant documentation "),a("a",{attrs:{href:"https://mesqueeb.github.io/vuex-easy-access/advanced.html#firestore-integration-for-google-firebase",target:"_blank",rel:"noopener noreferrer"}},[t._v("on the vuex-easy-access repository"),a("OutboundLink")],1),t._v("!")]),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),a("p",[t._v("Of course you can have multiple vuex modules, all in sync with different firestore paths.")]),t._v(" "),t._m(34),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),t._m(46),a("p",[t._v("Please note that if you have other state-props in settings that you don't want to be synced you have to add it to the "),a("code",[t._v("guard")]),t._v(" array (see "),a("router-link",{attrs:{to:"./extra-features.html#fillables-and-guard"}},[t._v("guard config")]),t._v(").")],1),t._v(" "),t._m(47),t._m(48),t._v(" "),t._m(49),t._v(" "),a("p",[t._v("In cases you don't want to loop through items you can also use the special batch actions below. The main difference is you will have separate hooks (see "),a("router-link",{attrs:{to:"./extra-features.html#hooks-before-insert-patch-delete"}},[t._v("hooks")]),t._v("), and batches are optimised to update the vuex store first for all changes and the syncs to firestore last.")],1),t._v(" "),t._m(50),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),a("p",[t._v("Say that you have a default filter set on the documents you are syncing when you "),a("code",[t._v("openDBChannel")]),t._v(" (see "),a("router-link",{attrs:{to:"./extra-features.html#filters"}},[t._v("Filters")]),t._v("). And you want to fetch extra documents with other filters. (eg. archived posts) In this case you can use the fetch actions to retrieve documents from the same firestore path your module is synced to:")],1),t._v(" "),t._m(54),t._v(" "),a("p",[t._v("You can have two extra parameters:")]),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),t._m(57),t._m(58),t._v(" "),t._m(59),t._v(" "),t._m(60),a("p",[t._v("The "),a("code",[t._v("querySnapshot")]),t._v(" that is returned is the same querySnapshot as the Firestore one. Please read the "),a("a",{attrs:{href:"https://firebase.google.com/docs/reference/js/firebase.firestore.QuerySnapshot",target:"_blank",rel:"noopener noreferrer"}},[t._v("Firestore documentation on querySnapshot"),a("OutboundLink")],1),t._v(" to know what you can do with these. Only when all documents were already fetched (and the result is 0 docs) vuex-easy-firestore will return "),a("code",[t._v("{done: true}")]),t._v(" instead. Please see the examples here above.")]),t._v(" "),t._m(61),t._v(" "),t._m(62),t._v(" "),t._m(63),a("p",[t._v("You can change the default fetch limit like so:")]),t._v(" "),t._m(64),t._m(65),t._v(" "),t._m(66),t._v(" "),a("p",[t._v("You can duplicate a document really simply by dispatching 'duplicate' like so:")]),t._v(" "),t._m(67),a("p",[t._v("If you need to obtain the ID that was used for the duplicate you can do:")]),t._v(" "),t._m(68),a("p",[t._v("The reason we return an object with the id of the new duplicated document as value is to streamline it with 'duplicateBatch'.")]),t._v(" "),a("p",[t._v("This is how you duplicate a batch of ID's:")]),t._v(" "),t._m(69),a("p",[t._v("This way you can use the result if you need to do extra things to your duplicated docs and you will know for each ID which new ID was used to make a duplication.")])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"guide"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#guide","aria-hidden":"true"}},[this._v("#")]),this._v(" Guide")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"basic-usage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#basic-usage","aria-hidden":"true"}},[this._v("#")]),this._v(" Basic usage")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Basically with just 4 actions (set, patch, insert, delete) you can make changes to your vuex store and "),s("strong",[this._v("everything will automatically stay up to date with your firestore!")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("Collection mode")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("firestoreRefType: 'collection'")])]),t._v(" "),a("li",[a("code",[t._v("firestorePath")]),t._v(" should be a firestore collection")]),t._v(" "),a("li",[t._v("Use when working with multiple documents, all docs will automatically be retrieved and sync when making changes.")]),t._v(" "),a("li",[t._v('eg. when a user has multiple "items" like a to-do list')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("Doc mode")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("firestoreRefType: 'doc'")])]),t._v(" "),a("li",[a("code",[t._v("firestorePath")]),t._v(" should be a single firestore document")]),t._v(" "),a("li",[t._v("Use when working with a single doc.")]),t._v(" "),a("li",[t._v('eg. the "settings" or "config" of a user.')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The sync is fully robust and "),s("strong",[this._v("automatically groups any api calls per 1000 ms")]),this._v(". You don't have to worry about optimising/limiting the api calls, it's all done automatically! (Only one api call per 1000ms will be made for a maximum of 500 changes, if there are more changes queued it will automatically be split over 2 api calls).")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"collection-mode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#collection-mode","aria-hidden":"true"}},[this._v("#")]),this._v(" 'collection' mode")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Then with these 4 actions: set, patch, insert and delete, you can edit "),s("strong",[this._v("single docs")]),this._v(" of your collection. These actions make sure Firestore will stay in sync.")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/set'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" doc"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 'set' will choose to dispatch either `patch` OR `insert` automatically")]),t._v("\n\n"),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/patch'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" doc"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// doc needs an 'id' prop")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/insert'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" doc"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/delete'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("Inserting will automatically add an ID")]),this._v(", but for patching you will need to add the "),s("code",[this._v("id")]),this._v(" to the payload. There are two ways you can do this:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" id "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'123'")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Add the `id` as a prop to the item you want to set/update:")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/set'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'my new name'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// OR use the `id` as [key] and the item as its value:")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/set'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'my new name'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Please note that only the `name` will be updated, and other fields are left alone!")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("There are two ways to delete things: the whole item "),s("strong",[this._v("or just a sub-property!")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// Delete the whole item:")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/delete'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Delete a sub-property of an item:")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/delete'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("id"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v(".tags.water`")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// the items looks like:")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  id"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'123'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  tags"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    fire"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    water"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// only `water` will be deleted from the item!")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("In the above example you can see that you can delete a sub-property by passing a string and separate sub-props with "),s("code",[this._v(".")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("For batch actions see "),s("a",{attrs:{href:"#batch-updates-inserts-deletions"}},[this._v("here")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"auto-generated-fields"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#auto-generated-fields","aria-hidden":"true"}},[this._v("#")]),this._v(" Auto-generated fields")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("created_at")]),t._v(" / "),a("code",[t._v("updated_at")]),t._v(" both use: "),a("code",[t._v("Firebase.firestore.FieldValue.serverTimestamp()")])]),t._v(" "),a("li",[a("code",[t._v("created_by")]),t._v(" / "),a("code",[t._v("updated_by")]),t._v(" will automatically fill in the userId")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"manually-assigning-doc-ids"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#manually-assigning-doc-ids","aria-hidden":"true"}},[this._v("#")]),this._v(" Manually assigning doc IDs")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("You can, "),s("strong",[this._v("but do not need to")]),this._v(", assign doc IDs manually.")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" id "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/insert'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newDoc"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// returns id")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// mind the await!")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("When assigning ID's manually")]),this._v(" the recommended way to do so is:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// assign manually")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" id "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" getters"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/dbRef'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("doc")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newDoc "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("/* and other fields */")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/insert'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newDoc"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("As you can see in the example above, each vuex-easy-firestore module has a getter called "),s("code",[this._v("dbRef")]),this._v(" with the reference of your "),s("code",[this._v("firestorePath")]),this._v(". So when you add "),s("code",[this._v(".doc().id")]),this._v(' to that reference you will "create" a new ID, just how Firestore would do it. This way you can do whatever you want with the ID before / after the insert.')])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"doc-mode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#doc-mode","aria-hidden":"true"}},[this._v("#")]),this._v(" 'doc' mode")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/set'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'my new name'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// same as `patch`")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/patch'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("status"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'awesome'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Only the props you pass will be updated.")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/delete'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'status'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// pass a prop-name")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Only the propName (string) you pass will be deleted")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/delete'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'settings.banned'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// the doc looks like:")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  userName"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'Satoshi'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  settings"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    showStatus"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    banned"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// only `banned` will be deleted from the item!")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"auto-generated-fields-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#auto-generated-fields-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Auto-generated fields")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("updated_at")]),this._v(" uses: "),s("code",[this._v("Firebase.firestore.FieldValue.serverTimestamp()")])]),this._v(" "),s("li",[s("code",[this._v("updated_by")]),this._v(" will automatically fill in the userId")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"shortcut-set-path-doc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shortcut-set-path-doc","aria-hidden":"true"}},[this._v("#")]),this._v(" Shortcut: set(path, doc)")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Inside Vue component templates you can also access the "),s("code",[this._v("set")]),this._v(" action through a shortcut: "),s("code",[this._v("$store.set(path, doc)")]),this._v(". Or with our path: "),s("code",[this._v("$store.set('userData', doc)")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Please note that "),s("strong",[this._v("it is important to pass the 'vuex-easy-firestore' plugin first")]),this._v(", and the 'vuex-easy-access' plugin second for it to work properly.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"multiple-modules-with-2-way-sync"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#multiple-modules-with-2-way-sync","aria-hidden":"true"}},[this._v("#")]),this._v(" Multiple modules with 2-way sync")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" userDataModule "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token comment"}},[t._v("/* config */")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" anotherModule "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token comment"}},[t._v("/* config */")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" aThirdModule "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token comment"}},[t._v("/* config */")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// make sure you choose a different moduleName and firestorePath each time!")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" easyFirestores "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createEasyFirestore")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("userDataModule"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" anotherModule"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" aThirdModule"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("logging"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// and include as PLUGIN in your vuex store:")]),t._v("\nstore"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// ... your store")]),t._v("\n  plugins"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("easyFirestores"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Passing "),s("code",[this._v("{logging: true}")]),this._v(" as second param will enable console.logging on each api call. This is recommended for debugging initially, but could be disabled on production.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"sync-directly-to-module-state"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sync-directly-to-module-state","aria-hidden":"true"}},[this._v("#")]),this._v(" Sync directly to module state")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("You can sync the doc(s) directly to the module state as well! Syncing directly to the state means that the doc(s) will not be added to the "),s("code",[this._v("statePropName")]),this._v(" you can define, but instead be added directly to the "),s("code",[this._v("state")]),this._v(" of the module.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("This can be useful to prevent cases where you have: "),s("code",[this._v("items/items")]),this._v(" where the first is the module and the second is the stateProp that holds all docs. You can simple leave the "),s("code",[this._v("statePropName")]),this._v(" blank (set to empty string) and the docs will be synced to the state directly!")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"a-more-in-depth-example"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#a-more-in-depth-example","aria-hidden":"true"}},[this._v("#")]),this._v(" A more in depth example:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Say your have a vuex-easy-firestore module for "),s("code",[this._v("user")]),this._v(" with the following settings:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" userModule "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  firestorePath"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'userSettings/{userId}'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  firestoreRefType"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'doc'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  moduleName"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'user'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  statePropName"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'settings'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  state"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    settings"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ui"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("mode"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'dark'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("To update the ui mode to 'light' and have it patch automatically through Vuex Easy Firestore, you would have to use the "),s("code",[this._v("set")]),this._v(" actions on the "),s("code",[this._v("user")]),this._v(" module like so: "),s("code",[this._v("dispatch('user/set', {ui: {mode: 'light'}})")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v('This is kind of weird because the word "settings" is nowhere to be found... It just says '),s("code",[this._v("'user/set'")]),this._v(". It would be much clearer if we can set the settings with "),s("code",[this._v("dispatch('user/settings/set')")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("To do this we would have to separate the settings into a settings module. But if we change the "),s("code",[this._v("moduleName")]),this._v(" to 'user/settings' we don't want to set a "),s("code",[this._v("statePropName")]),this._v(" to 'settings' as well! Otherwise we'd have to access it by "),s("code",[this._v("user/settings.settings")]),this._v("... Kinda weird huh.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("So the best solution is to "),s("strong",[this._v("sync the settings doc directly to the settings-module's state")]),this._v(". You can do this like so:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" settingsModule "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  moduleName"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'user/settings'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  statePropName"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// Leave statePropName blank!")]),t._v("\n  state"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ui"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("mode"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'dark'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" settingsModule "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  sync"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    guard"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'modalOpenend'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// will not be synced to firestore")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  state"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ui"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("mode"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'dark'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    modalOpened"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"batch-updates-inserts-deletions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#batch-updates-inserts-deletions","aria-hidden":"true"}},[this._v("#")]),this._v(" Batch updates/inserts/deletions")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("Only for collection mode.")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/insertBatch'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" docs"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// an array of docs")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/patchBatch'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("doc"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ids"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// `doc` is an object with the fields to patch, `ids` is an array")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'moduleName/deleteBatch'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ids"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// an array of ids")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("All batch actions will return a promise resolving to an array of the edited / added ids.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"fetching-docs-with-different-filters"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fetching-docs-with-different-filters","aria-hidden":"true"}},[this._v("#")]),this._v(" Fetching docs (with different filters)")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("Only for collection mode.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("dispatch('fetch')")]),this._v(" for manual handling the fetched docs")]),this._v(" "),s("li",[s("code",[this._v("dispatch('fetchAndAdd')")]),this._v(" for fetching and automatically adding the docs to the module like your other docs")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("em",[t._v("whereFilters:")]),t._v(" The same as firestore's "),a("code",[t._v(".where()")]),t._v(". An array of arrays with the filters you want. eg. "),a("code",[t._v("[['field', '==', false], ...]")])]),t._v(" "),a("li",[a("em",[t._v("orderBy:")]),t._v(" The same as firestore's "),a("code",[t._v(".orderBy()")]),t._v(". eg. "),a("code",[t._v("['created_date']")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"usage-example-fetchandadd"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usage-example-fetchandadd","aria-hidden":"true"}},[this._v("#")]),this._v(" Usage example "),s("code",[this._v("fetchAndAdd")]),this._v(":")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'pokemonBox/fetchAndAdd'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("whereFilters"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'freed'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'=='")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" orderBy"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'freedDate'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("then")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("querySnapshot "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("querySnapshot"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("done "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// `{done: true}` is returned when everything is already fetched and there are 0 docs:")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'0 docs left to retrieve'")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// Nothing more needs to be done. Docs are automatically added to `pokemonBox` and can be patched, deleted, etc.")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v('// docs will also receive `defaultValues` you have set up. (see "defaultValues set after server retrieval" under Extra features)')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("catch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("Using the "),a("code",[t._v("fetchAndAdd")]),t._v(" method means your documents will be added to your vuex-module (at "),a("code",[t._v("moduleName")]),t._v(") in the "),a("code",[t._v("statePropName")]),t._v(" you have set in your config. Then can thus also just be used with all other actions like "),a("code",[t._v("set")]),t._v(", "),a("code",[t._v("patch")]),t._v(", "),a("code",[t._v("insert")]),t._v(" and "),a("code",[t._v("delete")]),t._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"usage-example-fetch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usage-example-fetch","aria-hidden":"true"}},[this._v("#")]),this._v(" Usage example "),s("code",[this._v("fetch")]),this._v(":")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'pokemonBox/fetch'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("whereFilters"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'freed'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'=='")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" orderBy"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'freedDate'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("then")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("querySnapshot "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("querySnapshot"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("done "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// `{done: true}` is returned when everything is already fetched and there are 0 docs:")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'0 docs left to retrieve'")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// here you can the Firestore `querySnapshot` which is returned")]),t._v("\n    querySnapshot"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("forEach")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("doc "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// you have to manually add the doc with `fetch`")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fetchedDoc "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" doc"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("data")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      fetchedDoc"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" doc"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id\n      "),a("span",{attrs:{class:"token function"}},[t._v("commit")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'pokemonBox/INSERT_DOC'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fetchedDoc"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// also don't forget that in this case `defaultValues` will not be applied")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("catch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"a-note-on-fetch-limit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#a-note-on-fetch-limit","aria-hidden":"true"}},[this._v("#")]),this._v(" A note on fetch limit:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The fetch limit defaults to 50 docs. If you watch to fetch "),s("em",[this._v("the next 50 docs")]),this._v(" you just need to call the "),s("code",[this._v("fetch")]),this._v(" or "),s("code",[this._v("fetchAndAdd")]),this._v(" action again, and it will automatically retrieve the next docs! See the example below:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("fetchFreedPokemon")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'pokemonBox/fetchAndAdd'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("whereFilters"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'freed'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'=='")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" orderBy"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'freedDate'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// call once to fetch the first 50:")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("fetchFreedPokemon")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// then just call again to fetch the next 50!")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("fetchFreedPokemon")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// and so on...")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// your other vuex-easy-fire config")]),t._v("\n  fetch"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// The max amount of documents to be fetched. Defaults to 50.")]),t._v("\n    docLimit"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("50")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"duplicating-docs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#duplicating-docs","aria-hidden":"true"}},[this._v("#")]),this._v(" Duplicating docs")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("Only for collection mode.")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// let's duplicate Bulbasaur")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" docIdToDuplicate "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'001'")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'pokemonBox/duplicate'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" docIdToDuplicate"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// This will create a copy of Bulbasaur with a random ID")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" idMap "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'pokemonBox/duplicate'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'001'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// mind the await!")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// idMap will look like this:")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v("'001'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dupeId"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// dupeId will be a string!!")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" idMap "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'pokemonBox/duplicateBatch'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'001'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'004'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'007'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// idMap will look like this:")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token string"}},[t._v("'001'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dupeIdBulbasaur"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token string"}},[t._v("'004'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dupeIdCharmander"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token string"}},[t._v("'007'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dupeIdSquirtle"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],!1,null,null,null);e.options.__file="guide.md";s.default=e.exports}}]);